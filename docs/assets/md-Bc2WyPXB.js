import{r as S,L as R,I as E,O as Y,b as P,o as w,w as A,g as s,i as y,f as F,F as z,aa as L,k as C,t as _,p as N,e as V,v as $,x as j,T}from"./modules/vue-CDNPdEpt.js";import{_ as D,I,av as O,au as Q}from"./index-AUiDvfBE.js";import{I as U}from"./slidev/default-ChI_AZXO.js";import"./modules/unplugin-icons-BCEpU1sy.js";import"./modules/file-saver-B7oFTzqn.js";import"./modules/shiki-D1IkZTj0.js";const G={class:"wave-container"},H={class:"wave-label"},J={class:"wave-desc"},K={class:"wave-freq"},X={class:"wave-row result-row"},Z={__name:"WaveAdditionSlide",setup(W){I();const u=S([]),l=S(null);let h=null;const v=[{name:"Annual Cycle",description:"1 peak per year",frequency:1,amplitude:30,phase:0,color:"#60a5fa"},{name:"Semi-Annual",description:"2 peaks per year",frequency:2,amplitude:15,phase:.5,color:"#f59e0b"},{name:"Quarterly",description:"4 peaks per year",frequency:4,amplitude:8,phase:0,color:"#10b981"}];let c=0;const q=(a,e,i=!1)=>{if(!a)return;const t=a.getContext("2d"),n=a.width,r=a.height,p=r/2;t.clearRect(0,0,n,r),t.strokeStyle="rgba(255, 255, 255, 0.1)",t.lineWidth=1,t.beginPath(),t.moveTo(0,p),t.lineTo(n,p),t.stroke(),t.strokeStyle=e.color,t.lineWidth=3,t.beginPath();const m=[];for(let o=0;o<n;o+=2){const d=o/n*Math.PI*4+c,g=Math.sin(e.frequency*d+e.phase)*e.amplitude,f=p-g;o===0?t.moveTo(o,f):t.lineTo(o,f),i&&o%60===0&&m.push({x:o,y:f})}t.stroke(),t.strokeStyle=e.color,t.lineWidth=1,t.globalAlpha=.2;for(let o=0;o<n;o+=2){const d=o/n*Math.PI*4+c,g=Math.sin(e.frequency*d+e.phase)*e.amplitude,f=(o-2)/n*Math.PI*4+c,k=Math.sin(e.frequency*f+e.phase)*e.amplitude;o>0&&k>g&&k>0&&(t.beginPath(),t.moveTo(o-2,0),t.lineTo(o-2,r),t.stroke())}t.globalAlpha=1,i&&(t.fillStyle=e.color,m.forEach(o=>{t.beginPath(),t.arc(o.x,o.y,4,0,Math.PI*2),t.fill()}))},M=a=>{if(!a)return;const e=a.getContext("2d"),i=a.width,t=a.height,n=t/2;e.clearRect(0,0,i,t),e.strokeStyle="rgba(255, 255, 255, 0.1)",e.lineWidth=1,e.beginPath(),e.moveTo(0,n),e.lineTo(i,n),e.stroke(),e.strokeStyle="#a855f7",e.lineWidth=3,e.beginPath();for(let r=0;r<i;r+=2){const p=r/i*Math.PI*4+c;let m=0;v.forEach(d=>{m+=Math.sin(d.frequency*p+d.phase)*d.amplitude});const o=n-m;r===0?e.moveTo(r,o):e.lineTo(r,o)}e.stroke(),e.fillStyle="rgba(168, 85, 247, 0.1)",e.lineTo(i,n),e.lineTo(0,n),e.closePath(),e.fill()},b=()=>{c+=.01,u.value.forEach((a,e)=>{a&&q(a,v[e],!0)}),l.value&&M(l.value),h=requestAnimationFrame(b)},B=()=>{if(u.value.forEach(a=>{if(a){const e=a.getBoundingClientRect();a.width=e.width*2,a.height=e.height*2,a.style.width=e.width+"px",a.style.height=e.height+"px"}}),l.value){const a=l.value.getBoundingClientRect();l.value.width=a.width*2,l.value.height=a.height*2,l.value.style.width=a.width+"px",l.value.style.height=a.height+"px"}},x=async()=>{await N(),await new Promise(a=>setTimeout(a,200)),console.log("WaveAdditionSlide: Initializing animation",{waveCanvasCount:u.value.length,resultCanvas:l.value}),B(),h&&cancelAnimationFrame(h),b()};return R(()=>{console.log("WaveAdditionSlide mounted"),x()}),E(()=>{console.log("WaveAdditionSlide activated"),x()}),Y(()=>{h&&cancelAnimationFrame(h)}),(a,e)=>(w(),P(O,null,{default:A(()=>[e[2]||(e[2]=s("h1",null,"Building Seasonality from Simple Waves",-1)),e[3]||(e[3]=s("p",{class:"subtitle"},"Complex patterns emerge from adding simple sine waves",-1)),s("div",G,[y(" Individual waves "),(w(),F(z,null,L(v,(i,t)=>s("div",{class:"wave-row",key:t},[s("div",H,[s("span",{class:"wave-name",style:C({color:i.color})},_(i.name),5),s("span",J,_(i.description),1),s("span",K,"f = "+_(i.frequency)+"Ã—",1)]),s("canvas",{ref_for:!0,ref:n=>u.value[t]=n,class:"wave-canvas",style:C({borderColor:i.color})},null,4)])),64)),y(" Addition indicator "),e[1]||(e[1]=s("div",{class:"addition-row"},[s("div",{class:"addition-symbol"},"+")],-1)),y(" Result wave "),s("div",X,[e[0]||(e[0]=s("div",{class:"wave-label"},[s("span",{class:"wave-name result-name"},"Combined Pattern"),s("span",{class:"wave-desc"},"Sum of all waves above")],-1)),s("canvas",{ref_key:"resultCanvas",ref:l,class:"wave-canvas result-canvas"},null,512)])]),e[4]||(e[4]=s("div",{class:"explanation"}," Each point on the final wave = sum of points from waves above ",-1))]),_:1}))}},ee=D(Z,[["__scopeId","data-v-928b9f26"]]),le={__name:"slides.md__slidev_4",setup(W){const{$clicksContext:u,$frontmatter:l}=I();return u.setup(),(h,v)=>{const c=ee;return w(),P(U,$(j(T(Q)(T(l),3))),{default:A(()=>[V(c)]),_:1},16)}}};export{le as default};
